---
title:  "[운영체제] 메모리 단편화 해결 방법"
categories:
  - os
tags:
  - [CS, os]
date: 2023-01-17
last_modified_at: 2023-01-17
permalink: /os/memoryfragmentation/
---

메모리 단편화(Memory Fragmentation)
* RAM에서 메모리의 공간이 작은 조각으로 나뉘어 사용 가능한 메모리가 충분히 존재하지만 사용 불가능한 상태

메모리 단편화는 내부 단편화와 외부 단편화 두 가지 종류로 나뉜다.
* 내부 단편화 : 메모리 할당 시 프로세스가 필요한 양보다 더 큰 메모리를 할당하여 메모리 낭비가 발생하는 것
* 외부 단편화 : 메모리가 할당되고 해제되면서 중간중간 조그만 메모리가 생기는데 이런 메모리 때문에 총 메모리 공간은 충분하지만 실제 할당이 불가능한 상태

메모리 단편화 해결 방법
1. 페이징 기법
* 프로세스를 일정 크기로 잘게 쪼개어 순서와 상관없이 적재하는 방식을 말한다.
* 배치 순서는 상관없기 때문에 메모리 공간을 연속된 순서로 차지하지 않으므로 외부 단편화 문제를 해결할 수 있다.
* 물리 메모리(Frame) 안에 프로세스의 논리 메모리(Page)들이 고정된 크기의 블록으로 적재된다.
* 연속적이지 않은 공간 활용이 가능하기에 외부 단편화는 해결 가능하지만 페이지 단위를 꽉 채워 쓰지 않기에 내부 단편화는 존재한다.
* Frame : RAM을 페이지와 같은 크기로 나눈 것, Page : 가상 메모리를 같은 크기의 블록으로 나눈 것
2. 세그멘테이션 기법
* 서로 다른 크기의 논리적 단위인 세그먼트로 분할하는 방식이다. 고정된 크기가 아닌 서로 다른 크기로 분할한다는 점에서 페이징과 차이점을 가진다.
* 프로세스가 필요한 메모리만큼 할당하기에 내부 단편화는 해결 가능하지만 중간에 프로세스가 메모리를 해제하면 생기는 문제인 외부 단편화는 존재한다.
3. 메모리 풀
* 고정된 크기의 블록을 할당하여 메모리 동적 할당을 가능하게 해준다.
* Memory Pool이라 불리는 동일한 사이즈의 메모리 블록들을 미리 할당해 놓고 프로세스들이 필요할 때마다 사용하고 반납하는 방식을 말한다.
* 미리 공간을 할당해 놓고 사용한 다음 반납하기 때문에 이로 인한 외부 단편화는 발생하지 않으며, 필요한 크기만큼 할당하기 때문에 내부 단편화도 존재하지 않는다. 하지만 미리 할당해 놓고 사용하지 않더라도 계속 할당하기에 메모리 누수가 발생한다.
* 메모리의 할당, 해제가 빈번할 때 효과적인 방식이다.
