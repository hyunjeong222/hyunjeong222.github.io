---
title:  "[알고리즘] 포드-풀커슨(Ford-Fulkerson) 알고리즘"
categories:
  - algorithm
tags:
  - [CS, Algorithm]
date: 2023-01-24
last_modified_at: 2023-01-24
permalink: /algorithm/ford_fulkerson/
---

최대 유량 문제(Maximum Flow Problem)
* 특정한 지점에서 다른 지점으로, 얼마나 많은 유량(flow)을 동시에 보낼 수 있는지 계산하는 문제이다.
* 다른 말로는, 네트워크 플로우(Network Flow)라고도 한다.

그래프(Graph)
* 노드와 노드 간을 연결하는 간선으로 구성된 자료구조
* 즉, 연결되어 있는 객체 간의 관계를 표현할 수 있는 구조

포드-풀커슨(Ford-Fulkerson) 알고리즘
* 최초의 네트워크 유량 알고리즘
* 최대 유량을 구하는 알고리즘으로 개념과 구현이 간단하다.

동작 방식
1. 네트워크에 존재하는 모든 간선의 유량을 0으로 초기화하고, 역방향 간선의 유량도 0으로 초기화한다.
2. 소스(Source)에서 싱크(Sink)로 갈 수 있는, 잔여 용량이 남은 경로를 DFS로 탐색한다.
3. 해당 경로에 존재하는 간선들의 잔여 용량 중, 가장 작은 값을 유량으로 흘려보낸다.
4. 해당 유량에 음수 값을 취해, 역방향 간선에도 흘려보낸다.(유량 상쇄)
5. 더 이상 잔여 용량이 남은 경로가 존재하지 않을 때까지 반복한다.

유량 상쇄
* 모든 경로에, 기존에 존재하는 간선들과 반대되는 방향의 간선을 추가한 뒤,
* 각 간선으로 유량을 흘려보냈을 때, 반대 방향의 간선으로도 음의 유량을 흘려보냄으로써, 유량을 상쇄시키는 것을 의미한다.
* 물론, 실제로는 불가능하지만, 음의 유량을 기록함으로써, 잔여 용량을 남겨 추가적인 경로를 탐색할 수 있도록 하기 위한 작업이다.
* 예를 들어, a → b의 간선이 존재하며, 유량 f(a, b) 은 1 , 용량 c(a, b) 은 1이라면,
* 역 간선 b → a의 유량 f(b, a) 은 기존 간선의 방향과 반대이므로 - 1 이 되며,
* 용량 c(b, a) 은 실제 존재하는 간선이 아니므로 0 이 됩니다.
* 따라서, 역 간선 b → a의 잔여 용량 r(b, a) 은, c(b, a) - f(b, a) = 0 - ( - 1 ) = 1 이 됩니다.
* 즉, 역 간선 b → a로 1의 유량을 추가적으로 흘려보낼 수 있게 됩니다.
* 해당 규칙은, 두 정점이 서로에게 유량을 보내주는 것은 의미가 없기 때문에 성립할 수 있으며,
* 소스에서 싱크로 가는 총 유량도 변하지 않습니다.
